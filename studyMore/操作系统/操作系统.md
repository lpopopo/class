# 操作系统

## 第一章

#### 操作系统的基本特性

- **并发与并行**

  并行是指两个或者多个事件在同一时刻发生

  并发是指两个或多个事件在同一时间间隔发生，它们并非是真正的同时运行，而是由于进程得切换速度足够的快保证人无法察觉到变化。

- **进程**

  所谓进程，是指在操作系统中能独立运行并作为资源分配的基本单位，他是由一组机器指令，数据和堆栈等组成的，是一个独立运行的活动实体。**多个进程之间可以并发执行和交换信息**。

- **共享**

​       操作系统中的共享与一般情况下的共享不相同，操作系统中的共享被称为资源复用，是指系统中的资源可供内存中多个并发执行的进程共同使用。这里在宏观上既限定了时间(进程在内存期间)，也限定了地点(内存)。对于这种资源共享方式，其管理要复杂很多。因为系统中的资源远小于多道程序需求的总和，会形成他们对共享资源的争夺。所以，操作系统必须对资源进行妥善的管理。

- **互斥共享方式**

  当进程A要访问某资源是时，必须先提出请求，若此时该资源是空闲的，系统便可以将之分配给进程A使用。此后若在有其他进程对他进行访问，再A进程未结束之前必须进行等待。仅当A进程访问完并释放系统资源后，才允许另一进程对资源进行访问。

  把这一段时间内只允许一个进程访问的资源称为临界资源(或独占资源)。系统中大多数物理设备，以及栈，变量和表格都属于临界资源。

- **同时访问方式**

  这里的同时，在单处理机环境下是宏观意义的，而在围观上，这些进程对该资源的访问是交替进行的。典型的可供多个进程“同时”访问的资源就是磁盘设备。

  并发和共享是多用户(多任务)OS的两个最基本的特征。它们又是互为存在的条件。资源共享是并行的条件，若系统没有并发就不会存在资源共享，而如果系统没有对资源共享煤油进行有效的管理，也必然影响到并发执行得程度。

- **虚拟**

  在OS中，把通过某种技术把一个物理实体变为若干个逻辑上的对应物的功能称为"虚拟"

  - **时分复用技术**

    时分复用技术提高资源利用率的根本原因在于，他利用某设备为一用户空闲的时间，又转去服务另外的用户，设备得到充分利用。

    - **虚拟处理机技术**

      利用多道程序设计技术，为每一个程序建立至少一个进程，让多道程序并发进行。

    - **虚拟设备技术**

        将一台物理的IO设备虚拟为多台逻辑上的IO设备，并允许每一个用户占用一台逻辑上的IO设备。

   
  - **空分复用技术**
    空分复用技术则是利用存储器的空闲空间分区链存放和运行其他的多道程序，以此来提高效率。
    单纯的空分复用技术只能提升内存的利用率，并不能在逻辑上扩大存储器容量的功能，这还必须引入虚拟存储技术才能达到目的。虚拟存储技术在本质上是对内存的分时复用，即它可以通过分时复用的形式，使一道程序在远小于他的内存空间上运行。
  - **异步**
    每次只允许一个进程执行，其余进程只能等待。

#### 操作系统的主要功能
 - **处理机管理功能**
   在传统的多道程序系统中，处理机的分配和运行都是以进程为基本单位的，因而对处理机的管理可归结为对进程的管理。处理机管理的主要功能有：创建和撤销进程，对诸进程进行协调，实现进程之间的信息交换，以及按照一定算法把处理机发分配给进程。
   - **进程控制**
     在多道程序的环境下为使作业能并发执行，必须为每道作业创建一个或多个进程，当进程运行结束时，还应当立即撤销进程，以便回收此进程占用的各类资源。在设置有线程的OS中，进程控制还应当包括为一个进程创建若干个线程，以提高系统的并发性。
   - **进程同步**
     为使多个进程有条不紊的运行，系统中必须设置相应的进程同步机制。该机制的主要任务是对多个进程的运行进行协调。协调方式：
     1.进程互斥返回方式。
     2.进程同步方式：指在相互合作去完成共同任务的诸进程间，由同步机构对它们的执行次序加以协调。
     最简单的互斥方式是为每一个临界资源配置一把锁W，当锁打开时，进程可以对该临界资源进行访问，当锁关上时禁止进程访问临界资源。
     最常用的机制是信号量机制。
   - **进程通信**
     当相互合作的进程处于同一计算机系统时，通常在它们之间采用直接通信方式，即由源进程利用发送命令的直接将消息挂在目标进程的消息队列上，以后由目标进程利用接受命令从消息队列中取出消息。
   - **调度**
     在传统OS中，调度包括作业调度和进程调度两步
     (1)作业调度：
     作业调度的基本任务就是从后备队列中按照一定的算法选择出若干个作业，为他们分配所需的资源，在将在这些作业调入内存后，分别为他们建立进程，使他们都成为可能获得处理机的就绪进程，并将他们插入就绪队列中去。
     (2)进程调度：
     进程调度的任务是从进程就绪队列中按照一定的算法选出一个进程，将处理机分配给他，并未他设置运行现场，使其投入执行。